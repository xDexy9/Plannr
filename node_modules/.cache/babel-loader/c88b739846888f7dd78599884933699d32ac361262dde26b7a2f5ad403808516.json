{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{motion}from'framer-motion';import{FiX,FiCheck,FiInfo}from'react-icons/fi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TaskDaysModal=_ref=>{let{onSelect,onClose,initialDays=[]}=_ref;const weekdays=['Mon','Tue','Wed','Thu','Fri','Sat','Sun'];const[selectedDays,setSelectedDays]=useState(initialDays);const hasInitialDays=initialDays.length>0;const modalRef=useRef(null);// Handle click outside modal - only close if it's a direct click on the backdrop\nuseEffect(()=>{const handleClickOutside=event=>{// Only close if clicking directly on the backdrop (not on any child elements)\nif(event.target instanceof Element&&event.target.classList.contains('modal-backdrop')){onClose();}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[onClose]);const toggleDay=dayIndex=>{if(selectedDays.includes(dayIndex)){setSelectedDays(selectedDays.filter(d=>d!==dayIndex));}else{setSelectedDays([...selectedDays,dayIndex].sort());}};const handleSubmit=()=>{onSelect(selectedDays);};const modalVariants={hidden:{opacity:0,y:50,scale:0.95},visible:{opacity:1,y:0,scale:1,transition:{type:\"spring\",damping:25,stiffness:300}},exit:{opacity:0,y:30,scale:0.95,transition:{duration:0.2}}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 modal-backdrop\",style:{pointerEvents:'all'},children:/*#__PURE__*/_jsxs(motion.div,{ref:modalRef,className:\"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md overflow-hidden\",variants:modalVariants,initial:\"hidden\",animate:\"visible\",exit:\"exit\",style:{pointerEvents:'auto',position:'relative'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:\"On which days?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\",onClick:onClose,children:/*#__PURE__*/_jsx(FiX,{size:20})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 dark:text-gray-300 mb-4\",children:\"Select the days when you want to work on this task:\"}),hasInitialDays&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 p-3 bg-blue-50 dark:bg-blue-900 rounded-lg text-blue-800 dark:text-blue-200 text-sm flex items-start\",children:[/*#__PURE__*/_jsx(FiInfo,{size:16,className:\"mr-2 mt-0.5 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"This task is already scheduled for \",initialDays.length,\" day\",initialDays.length!==1?'s':'',\". Your selection will update the existing schedule.\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center space-x-3 mb-6\",children:weekdays.map((day,index)=>{const dayNumber=index+1;const isSelected=selectedDays.includes(dayNumber);return/*#__PURE__*/_jsxs(motion.button,{onClick:()=>toggleDay(dayNumber),className:`w-12 h-12 rounded-full flex items-center justify-center relative ${isSelected?'bg-green-500 text-white':'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300'}`,whileHover:{scale:1.1},whileTap:{scale:0.9},children:[day,isSelected&&/*#__PURE__*/_jsx(motion.div,{className:\"absolute -top-1 -right-1 bg-white dark:bg-gray-800 rounded-full w-5 h-5 flex items-center justify-center border-2 border-green-500\",initial:{scale:0},animate:{scale:1},children:/*#__PURE__*/_jsx(FiCheck,{size:12,className:\"text-green-500\"})})]},day);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(motion.button,{onClick:onClose,className:\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\",whileHover:{scale:1.03},whileTap:{scale:0.97},children:\"Cancel\"}),/*#__PURE__*/_jsx(motion.button,{onClick:handleSubmit,className:\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600\",whileHover:{scale:1.03},whileTap:{scale:0.97},disabled:selectedDays.length===0,children:\"Confirm\"})]})]})]})});};export default TaskDaysModal;","map":{"version":3,"names":["React","useState","useRef","useEffect","motion","FiX","FiCheck","FiInfo","jsx","_jsx","jsxs","_jsxs","TaskDaysModal","_ref","onSelect","onClose","initialDays","weekdays","selectedDays","setSelectedDays","hasInitialDays","length","modalRef","handleClickOutside","event","target","Element","classList","contains","document","addEventListener","removeEventListener","toggleDay","dayIndex","includes","filter","d","sort","handleSubmit","modalVariants","hidden","opacity","y","scale","visible","transition","type","damping","stiffness","exit","duration","className","style","pointerEvents","children","div","ref","variants","initial","animate","position","onClick","size","map","day","index","dayNumber","isSelected","button","whileHover","whileTap","disabled"],"sources":["C:/Users/User/Desktop/Plannr-new/src/components/TaskDaysModal.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { FiX, FiCheck, FiInfo } from 'react-icons/fi';\r\n\r\ninterface TaskDaysModalProps {\r\n  onSelect: (days: number[]) => void;\r\n  onClose: () => void;\r\n  initialDays?: number[];\r\n}\r\n\r\nconst TaskDaysModal: React.FC<TaskDaysModalProps> = ({ onSelect, onClose, initialDays = [] }) => {\r\n  const weekdays = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\r\n  const [selectedDays, setSelectedDays] = useState<number[]>(initialDays);\r\n  const hasInitialDays = initialDays.length > 0;\r\n  const modalRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Handle click outside modal - only close if it's a direct click on the backdrop\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      // Only close if clicking directly on the backdrop (not on any child elements)\r\n      if (event.target instanceof Element && \r\n          event.target.classList.contains('modal-backdrop')) {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [onClose]);\r\n\r\n  const toggleDay = (dayIndex: number) => {\r\n    if (selectedDays.includes(dayIndex)) {\r\n      setSelectedDays(selectedDays.filter(d => d !== dayIndex));\r\n    } else {\r\n      setSelectedDays([...selectedDays, dayIndex].sort());\r\n    }\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    onSelect(selectedDays);\r\n  };\r\n\r\n  const modalVariants = {\r\n    hidden: { opacity: 0, y: 50, scale: 0.95 },\r\n    visible: { \r\n      opacity: 1, \r\n      y: 0, \r\n      scale: 1,\r\n      transition: { \r\n        type: \"spring\", \r\n        damping: 25, \r\n        stiffness: 300 \r\n      }\r\n    },\r\n    exit: { \r\n      opacity: 0, \r\n      y: 30, \r\n      scale: 0.95,\r\n      transition: { duration: 0.2 }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 modal-backdrop\"\r\n      style={{ pointerEvents: 'all' }}\r\n    >\r\n      <motion.div \r\n        ref={modalRef}\r\n        className=\"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md overflow-hidden\"\r\n        variants={modalVariants}\r\n        initial=\"hidden\"\r\n        animate=\"visible\"\r\n        exit=\"exit\"\r\n        style={{ pointerEvents: 'auto', position: 'relative' }}\r\n      >\r\n        <div className=\"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700\">\r\n          <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">On which days?</h2>\r\n          <button \r\n            className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\r\n            onClick={onClose}\r\n          >\r\n            <FiX size={20} />\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"p-4\">\r\n          <p className=\"text-gray-700 dark:text-gray-300 mb-4\">Select the days when you want to work on this task:</p>\r\n          \r\n          {hasInitialDays && (\r\n            <div className=\"mb-4 p-3 bg-blue-50 dark:bg-blue-900 rounded-lg text-blue-800 dark:text-blue-200 text-sm flex items-start\">\r\n              <FiInfo size={16} className=\"mr-2 mt-0.5 flex-shrink-0\" />\r\n              <span>\r\n                This task is already scheduled for {initialDays.length} day{initialDays.length !== 1 ? 's' : ''}. \r\n                Your selection will update the existing schedule.\r\n              </span>\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"flex justify-center space-x-3 mb-6\">\r\n            {weekdays.map((day, index) => {\r\n              const dayNumber = index + 1;\r\n              const isSelected = selectedDays.includes(dayNumber);\r\n              \r\n              return (\r\n                <motion.button\r\n                  key={day}\r\n                  onClick={() => toggleDay(dayNumber)}\r\n                  className={`w-12 h-12 rounded-full flex items-center justify-center relative ${\r\n                    isSelected\r\n                      ? 'bg-green-500 text-white'\r\n                      : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300'\r\n                  }`}\r\n                  whileHover={{ scale: 1.1 }}\r\n                  whileTap={{ scale: 0.9 }}\r\n                >\r\n                  {day}\r\n                  {isSelected && (\r\n                    <motion.div \r\n                      className=\"absolute -top-1 -right-1 bg-white dark:bg-gray-800 rounded-full w-5 h-5 flex items-center justify-center border-2 border-green-500\"\r\n                      initial={{ scale: 0 }}\r\n                      animate={{ scale: 1 }}\r\n                    >\r\n                      <FiCheck size={12} className=\"text-green-500\" />\r\n                    </motion.div>\r\n                  )}\r\n                </motion.button>\r\n              );\r\n            })}\r\n          </div>\r\n          \r\n          <div className=\"flex justify-end space-x-3\">\r\n            <motion.button\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\"\r\n              whileHover={{ scale: 1.03 }}\r\n              whileTap={{ scale: 0.97 }}\r\n            >\r\n              Cancel\r\n            </motion.button>\r\n            <motion.button\r\n              onClick={handleSubmit}\r\n              className=\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600\"\r\n              whileHover={{ scale: 1.03 }}\r\n              whileTap={{ scale: 0.97 }}\r\n              disabled={selectedDays.length === 0}\r\n            >\r\n              Confirm\r\n            </motion.button>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskDaysModal; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}